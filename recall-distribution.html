<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />

        <title>Simple DEA Drug Recall Stats</title>
        <meta name="description" content="Simple DEA Drug Recall Stats" />

        <link
            rel="stylesheet"
            href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css"
        />

        <script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
    </head>

    <body>
        <h1></h1>

        <div class="chart"></dev>

        <!-- <script src="state-names.js" type="module"></script> -->
        <script type="module">
            import {states} from './state-names.js';
            import {chartService} from './chart-service.js';

            const urlParams = new URLSearchParams(window.location.search);
            const state = urlParams.get('state').toUpperCase();

            const chart = chartService();

            chart.render(state);

            updateHeading(`DEA Drug recall reports for ${states[state]}`);

            function updateHeading(txt) {
                document.querySelector('h1').innerHTML = txt;
            }
        </script>
    </body>
</html>
